{"ast":null,"code":"var _jsxFileName = \"D:\\\\PRO\\\\React JS\\\\slackclone\\\\src\\\\components\\\\Chat\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef } from \"react\";\nimport ChatStyled from \"./ChatStyled\"; //Redux\n\nimport { useSelector } from \"react-redux\"; //Material ui\n\nimport StarBorderOutlinedIcon from \"@material-ui/icons/StarBorderOutlined\";\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\nimport { selectRoomId } from \"../../features/appSlice\"; //Database\n\nimport { auth, db } from \"../../firebase\";\nimport { useCollection } from \"react-firebase-hooks/firestore\"; //Component\n\nimport ChatInput from \"../ChatInput\";\nimport Message from \"../Message\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Chat() {\n  _s();\n\n  const chatRef = useRef(null);\n  const roomId = useSelector(selectRoomId);\n  const [roomDetails] = useCollection(roomId && db.collection(\"rooms\").doc(roomId));\n  const [roomMessages, roomLoading] = useCollection(roomId && db.collection(\"rooms\").doc(roomId).collection(\"messages\").orderBy(\"timestamp\", \"asc\"));\n  useEffect(() => {\n    var _chatRef$current;\n\n    chatRef === null || chatRef === void 0 ? void 0 : (_chatRef$current = chatRef.current) === null || _chatRef$current === void 0 ? void 0 : _chatRef$current.scrollIntoView();\n  }, [roomId, roomLoading]);\n  return /*#__PURE__*/_jsxDEV(ChatStyled, {\n    children: roomDetails && roomMessages && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-all\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-left\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [\"#\", roomDetails === null || roomDetails === void 0 ? void 0 : roomDetails.data().name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(StarBorderOutlinedIcon, {\n            className: \"star-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-right\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" \", /*#__PURE__*/_jsxDEV(InfoOutlinedIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 21\n            }, this), \" Details \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ChatInput, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat__messages\",\n        children: [roomMessages === null || roomMessages === void 0 ? void 0 : roomMessages.docs.map(doc => {\n          const {\n            message,\n            timestamp,\n            user,\n            userImage\n          } = doc.data();\n          return /*#__PURE__*/_jsxDEV(Message, {\n            message: message,\n            timestamp: timestamp,\n            user: user,\n            userImage: userImage\n          }, doc.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-bottom\",\n          ref: chatRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 12\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Chat, \"NqaLg+IU6u/Lzbyo3k6dNgERxWo=\", false, function () {\n  return [useSelector, useCollection, useCollection];\n});\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"sources":["D:/PRO/React JS/slackclone/src/components/Chat/index.js"],"names":["React","useEffect","useRef","ChatStyled","useSelector","StarBorderOutlinedIcon","InfoOutlinedIcon","selectRoomId","auth","db","useCollection","ChatInput","Message","Chat","chatRef","roomId","roomDetails","collection","doc","roomMessages","roomLoading","orderBy","current","scrollIntoView","data","name","docs","map","message","timestamp","user","userImage","id"],"mappings":"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","sourcesContent":["import React, {useEffect, useRef} from \"react\";\r\nimport ChatStyled from \"./ChatStyled\";\r\n\r\n//Redux\r\nimport  { useSelector } from \"react-redux\";\r\n\r\n//Material ui\r\nimport StarBorderOutlinedIcon from \"@material-ui/icons/StarBorderOutlined\";\r\nimport InfoOutlinedIcon from \"@material-ui/icons/InfoOutlined\";\r\nimport { selectRoomId } from \"../../features/appSlice\";\r\n\r\n//Database\r\nimport { auth, db } from \"../../firebase\";\r\nimport { useCollection } from \"react-firebase-hooks/firestore\";\r\n\r\n\r\n//Component\r\nimport ChatInput from \"../ChatInput\";\r\nimport Message from \"../Message\";\r\n\r\nfunction Chat() {\r\n  const chatRef = useRef(null);\r\n  const roomId = useSelector(selectRoomId);\r\n  const [roomDetails] = useCollection(\r\n    roomId && db.collection(\"rooms\").doc(roomId)\r\n  );\r\n  const [roomMessages, roomLoading] = useCollection(\r\n    roomId &&\r\n      db\r\n        .collection(\"rooms\")\r\n        .doc(roomId)\r\n        .collection(\"messages\")\r\n        .orderBy(\"timestamp\", \"asc\")\r\n  );\r\n\r\n  useEffect(() => {\r\n    chatRef?.current?.scrollIntoView();\r\n  }, [roomId, roomLoading]);\r\n\r\n\r\n  return (\r\n    <ChatStyled>\r\n      {roomDetails && roomMessages && (\r\n      <div className=\"chat-all\">\r\n        <div className=\"header\">\r\n\r\n            <div className=\"header-left\">\r\n                <h4> <strong>#{roomDetails?.data().name}</strong> \r\n                </h4>\r\n                <StarBorderOutlinedIcon className=\"star-icon\"/> \r\n            </div>\r\n            <div className=\"header-right\">\r\n                <p> <InfoOutlinedIcon /> Details </p>\r\n            </div>\r\n\r\n        <ChatInput/>\r\n\r\n        </div>\r\n\r\n        <div className=\"chat__messages\">\r\n            {roomMessages?.docs.map((doc) => {\r\n              const { message, timestamp, user, userImage } = doc.data();\r\n              return (\r\n                <Message\r\n                  key={doc.id}\r\n                  message={message}\r\n                  timestamp={timestamp}\r\n                  user={user}\r\n                  userImage={userImage}\r\n                />\r\n              );\r\n            })}\r\n           <div className=\"chat-bottom\" ref={chatRef}>\r\n\r\n           </div>\r\n\r\n          </div>\r\n\r\n        \r\n\r\n      </div>\r\n      )}\r\n    </ChatStyled>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n"]},"metadata":{},"sourceType":"module"}